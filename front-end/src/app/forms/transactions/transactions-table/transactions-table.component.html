<div class="transactions__table-container">
  <div class="grid-row">
    <nav class="navbar navbar-light width-100 justify-content-start">
      <button
        *ngIf="showReceiptsTab"
        [ngClass]="{
          'btn btn-primary': transactionCategory === 'receipts',
          'btn btn-secondary-gray': transactionCategory !== 'receipts'
        }"
        class="btn-lg width-25"
        type="button"
        (click)="changeTransactionCategory('receipts')"
      >
        {{ receiptsLabel }}
      </button>
      <button
        *ngIf="showDisbursementsTab"
        [ngClass]="{
          'btn btn-primary': transactionCategory === 'disbursements',
          'btn btn-secondary-gray': transactionCategory !== 'disbursements'
        }"
        class="btn-lg width-25"
        type="button"
        (click)="changeTransactionCategory('disbursements')"
      >
        {{ disbursementsLabel }}
      </button>
      <button
        *ngIf="showLoansTab"
        [ngClass]="{
          'btn btn-primary': transactionCategory === 'loans-and-debts',
          'btn btn-secondary-gray': transactionCategory !== 'loans-and-debts'
        }"
        class="btn-lg width-25"
        type="button"
        (click)="changeTransactionCategory('loans-and-debts')"
      >
        {{ loansLabel }}
      </button>
      <button
        *ngIf="showOthersTab"
        [ngClass]="{
          'btn btn-primary': transactionCategory === 'other',
          'btn btn-secondary-gray': transactionCategory !== 'other'
        }"
        class="btn-lg width-25"
        type="button"
        (click)="changeTransactionCategory('other')"
      >
        {{ othersLabel }}
      </button>
    </nav>
  </div>

  <div *ngIf="apiError" class="text-error text-center">There was an unexpected error. Please try again.</div>

  <ng-container *ngIf="!apiError">
    <div class="grid-row d-flex justify-content-between">
      <div class="d-flex ml-3" *ngIf="showPageSizes()">
        <div class="d-inline mr-1 my-auto text-muted">Items per page:</div>
        <ng-select
          #pageNumber
          [items]="pageSizes"
          [clearable]="false"
          [hideSelected]="true"
          (change)="onMaxItemsPerPageChanged($event)"
          [(ngModel)]="maxItemsPerPage"
          class="border border-light"
        >
        </ng-select>
      </div>
      <div
        *ngIf="showPageSizes() && (isTransactionViewActive() || isRecycleBinViewActive())"
        class="transactions__item-range mr-2"
      >
        {{ determineItemRange() }} of {{ config.totalItems }}
      </div>
    </div>

    <!--Receipt transaction table-->
    <table
      class="table table-striped table-hover table__sortable transactions__table"
      *ngIf="transactionCategory === 'receipts'"
    >
      <thead>
        <tr>
          <th class="transactions__table-checkbox">
            <input [(ngModel)]="allTransactionsSelected" type="checkbox" (change)="changeAllTransactionsSelected()" />
          </th>
          <th *ngIf="_allTransactions" [class]="getSortClass('reportType')" (click)="changeSortDirection('reportType')">
            Report Type
          </th>
          <th *ngIf="isColumnVisible('type')" [class]="getSortClass('type')" (click)="changeSortDirection('type')">
            Type
          </th>
          <th
            *ngIf="isColumnVisible('committeeId')"
            [class]="getSortClass('committeeId')"
            (click)="changeSortDirection('committeeId')"
          >
            Committee Id
          </th>
          <th
            *ngIf="isColumnVisible('transactionId')"
            [class]="getSortClass('transactionId')"
            (click)="changeSortDirection('transactionId')"
          >
            Transaction Id
          </th>
          <th *ngIf="isColumnVisible('name')" [class]="getSortClass('name')" (click)="changeSortDirection('name')">
            Name
          </th>
          <th
            *ngIf="isColumnVisible('street')"
            [class]="getSortClass('street')"
            (click)="changeSortDirection('street')"
          >
            Street
          </th>
          <th *ngIf="isColumnVisible('city')" [class]="getSortClass('city')" (click)="changeSortDirection('city')">
            City
          </th>
          <th *ngIf="isColumnVisible('state')" [class]="getSortClass('state')" (click)="changeSortDirection('state')">
            State
          </th>
          <th *ngIf="isColumnVisible('zip')" [class]="getSortClass('zip')" (click)="changeSortDirection('zip')">Zip</th>
          <th *ngIf="isColumnVisible('date')" [class]="getSortClass('date')" (click)="changeSortDirection('date')">
            Date
          </th>
          <!--<th  *ngIf="isColumnVisible('aggregate')" [class]="getSortClass('aggregate')"
            (click)="changeSortDirection('aggregate')">Aggregate
          </th>-->
          <th
            *ngIf="isColumnVisible('purposeDescription')"
            [class]="getSortClass('purposeDescription')"
            (click)="changeSortDirection('purposeDescription')"
          >
            Purpose Description
          </th>
          <th
            *ngIf="isColumnVisible('contributorEmployer')"
            [class]="getSortClass('contributorEmployer')"
            (click)="changeSortDirection('contributorEmployer')"
          >
            Contributor Employer
          </th>
          <th
            *ngIf="isColumnVisible('contributorOccupation')"
            [class]="getSortClass('contributorOccupation')"
            (click)="changeSortDirection('contributorOccupation')"
          >
            Contributor Occupation
          </th>
          <th
            *ngIf="isColumnVisible('memoCode')"
            [class]="getSortClass('memoCode')"
            (click)="changeSortDirection('memoCode')"
          >
            Memo
          </th>
          <th
            *ngIf="isColumnVisible('memoText')"
            [class]="getSortClass('memoText')"
            (click)="changeSortDirection('memoText')"
          >
            Memo Text/Description
          </th>
          <th
            *ngIf="isRecycleBinViewActive()"
            [class]="getSortClass('deletedDate')"
            (click)="changeSortDirection('deletedate')"
          >
            Deleted Date
          </th>
          <th
            *ngIf="isColumnVisible('amount')"
            [class]="getSortClass('amount')"
            (click)="changeSortDirection('amount')"
          >
            Amount
          </th>
          <th
            *ngIf="isColumnVisible('semiAnnualAmount')"
            [class]="getSortClass('semiAnnualAmount')"
            (click)="changeSortDirection('semiAnnualAmount')"
          >
            Semi-Annual Amount
          </th>
          <th
            *ngIf="isColumnVisible('aggregate')"
            [class]="getSortClass('aggregate')"
            (click)="changeSortDirection('aggregate')"
          >
            Aggregate
          </th>
          <th class="bulk_action">
            <div *ngIf="editMode || _allTransactions">
              <div
                *ngIf="isTransactionViewActive()"
                class="btn-group"
                ngbDropdown
                role="group"
                aria-label="Action dropdown"
              >
                <button
                  class="btn btn-sm btn-primary transactions__bulk_action_btn"
                  ngbDropdownToggle
                  [disabled]="bulkActionDisabled"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()"><i class="print-icon"></i> Print</button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                  <button
                    *ngIf="!_authService.isReadOnly()"
                    class="dropdown-item"
                    (click)="trashAllSelected()"
                  >
                    <i class="trash-icon"></i> Trash
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!editMode && !_allTransactions && !isReportFiled()">
              <div
                *ngIf="isTransactionViewActive()"
                class="btn-group"
                ngbDropdown
                role="group"
                aria-label="Action dropdown"
              >
                <button
                  class="btn btn-sm btn-primary transactions__bulk_action_btn"
                  ngbDropdownToggle
                  [disabled]="bulkActionDisabled"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()"><i class="print-icon"></i> Print</button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!editMode && !_allTransactions && isReportFiled()">
              <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                <i class="ellipsis-icon"></i>
              </button>
            </div>
            <div *ngIf="isRecycleBinViewActive()">
              <button
                class="btn btn-sm btn-primary transactions__bulk_action_btn"
                (click)="deleteRecyleBin()"
                [disabled]="bulkActionDisabled"
              >
                <i class="trash-icon"></i>
              </button>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let trx of transactionsModel | paginate: config; let i = index">
          <tr>
            <td>
              <input [(ngModel)]="trx.selected" type="checkbox" (click)="checkForMultiChecked($event, trx)" />
            </td>
            <td *ngIf="_allTransactions">{{ trx.formType }} - {{ trx.reportType }}</td>
            <td *ngIf="isColumnVisible('type')">
              {{ !getCurrentItemizationStatus(trx) ? trx.type + ' (U) ' : trx.type }}
            </td>
            <td *ngIf="isColumnVisible('committeeId')">{{ committeeDetails.committeeid }}</td>
            <td *ngIf="isColumnVisible('transactionId')">{{ trx.transactionId }}</td>
            <td
              [ngClass]="trx.child ? 'parent' : ''"
              (click)="trx.child ? (trx.toggleChild = !trx.toggleChild) : false"
              *ngIf="isColumnVisible('name')"
            >
              {{ trx.name }}
              <div
                *ngIf="trx.child"
                class="align_right arrow"
                [ngClass]="trx.toggleChild ? 'arrow-top' : 'arrow-bottom'"
              ></div>
            </td>
            <td *ngIf="isColumnVisible('street')">{{ trx.street }} {{ trx.street2 }}</td>
            <td *ngIf="isColumnVisible('city')">{{ trx.city }}</td>
            <td *ngIf="isColumnVisible('state')">{{ trx.state }}</td>
            <td *ngIf="isColumnVisible('zip')">{{ trx.zip | zipCode }}</td>
            <td *ngIf="isColumnVisible('date')">{{ trx.date | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('purposeDescription')">{{ trx.purposeDescription }}</td>
            <td *ngIf="isColumnVisible('contributorEmployer')">{{ trx.contributorEmployer }}</td>
            <td *ngIf="isColumnVisible('contributorOccupation')">{{ trx.contributorOccupation }}</td>
            <td *ngIf="isColumnVisible('memoCode')">{{ trx.memoCode }}</td>
            <td *ngIf="isColumnVisible('memoText')">{{ trx.memoText }}</td>
            <td *ngIf="isRecycleBinViewActive()">{{ trx.deletedDate | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('amount')" class="transactions__amount">
              {{ trx.amount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('semiAnnualAmount')" class="transactions__amount">
              {{ trx.semiAnnualAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('aggregate')" class="transactions__amount">
              {{ trx.aggregate | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>

            <td>
              <div *ngIf="isRecycleBinViewActive()">
                <span
                  [title]="!trx.iseditable ? 'This transaction cannot be restored because it is auto generated.' : ''"
                >
                  <button
                    class="btn btn-sm btn-primary"
                    [disabled]="!trx.iseditable || _authService.isReadOnly()"
                    (click)="restoreTransaction(trx)"
                  >
                    <i class="undo-icon"></i>
                  </button>
                </span>
              </div>
              <div *ngIf="!_allTransactions || (_allTransactions && trx.iseditable)">
                <div
                  *ngIf="isTransactionViewActive()"
                  class="btn-group"
                  ngbDropdown
                  role="group"
                  aria-label="Action dropdown"
                >
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle (click)="checkIfOrphanTransaction(trx)">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button
                      *ngIf="
                        trx.transactionTypeIdentifier === 'LOAN_FROM_IND' ||
                        trx.transactionTypeIdentifier === 'LOAN_FROM_BANK' ||
                        _authService.isReadOnly()
                      "
                      class="dropdown-item"
                      (click)="viewTransaction(trx)"
                    >
                      <i class="view-icon"></i> View
                    </button>
                    <span
                      [title]="!trx.iseditable ? 'This transaction cannot be edited because it is auto generated.' : ''"
                    >
                      <button
                        *ngIf="trx.iseditable && !_authService.isReadOnly()"
                        class="dropdown-item"
                        [disabled]="isDisabled(trx)"
                        (click)="editTransaction(trx)"
                      >
                        <i class="edit-icon"></i> Edit
                      </button>
                    </span>
                    <button
                      *ngIf="isForceItemizable(trx) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="forceItemizationToggle(trx)"
                    >
                      <i class="fas fa-calculator"></i>{{ getItemizationInd(trx) }}
                    </button>
                    <button
                      *ngIf="trx.isreattributable && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="reattributeTransaction(trx)"
                    >
                      <i class="clipboard-icon"></i> Reattribute
                    </button>
                    <button class="dropdown-item" (click)="printTransaction(trx)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <span
                      [title]="!trx.iseditable ? 'This transaction cannot be cloned because it is auto generated.' : ''"
                    >
                      <button
                        *ngIf="trx.iseditable && !_authService.isReadOnly()"
                        class="dropdown-item"
                        [disabled]="isDisabled(trx)"
                        (click)="cloneTransaction(trx)"
                      >
                        <i class="fas fa-copy"></i> Clone
                      </button>
                    </span>
                    <span
                      [title]="
                        !trx.iseditable ? 'This transaction cannot be deleted because it is auto generated.' : ''
                      "
                    >
                      <button
                        *ngIf="trx.iseditable && checkIfTrashable(trx) && !_authService.isReadOnly()"
                        class="dropdown-item"
                        (click)="trashTransaction(trx)"
                      >
                        <i class="trash-icon"></i> Trash
                      </button>
                    </span>
                  </div>
                </div>
              </div>
              <!--trx.reportstatus is filed and isEditable flag is false the report is filed-->
              <!-- trx.reportstatus is filed and isEditable flag is true  the report is amended-->
              <div *ngIf="_allTransactions && !trx.iseditable">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>
          </tr>
          <tr [ngbCollapse]="trx.child ? !trx.toggleChild : false" *ngFor="let trxChild of trx.child" class="child-bg">
            <td style="padding-left: 1.5rem">
              <input
                [(ngModel)]="trxChild.selected"
                type="checkbox"
                (click)="checkForMultiChecked($event, trx)"
                hidden
              />
            </td>
            <td *ngIf="_allTransactions">{{ trxChild.reportType }}</td>
            <td *ngIf="isColumnVisible('type')" style="padding-left: 1.5rem">
              {{ !getCurrentItemizationStatus(trxChild) ? trxChild.type + ' (U) ' : trxChild.type }}
            </td>
            <td *ngIf="isColumnVisible('transactionId')">{{ trxChild.transactionId }}</td>
            <td *ngIf="isColumnVisible('name')">{{ trxChild.name }}</td>
            <td *ngIf="isColumnVisible('street')">{{ trxChild.street }} {{ trxChild.street2 }}</td>
            <td *ngIf="isColumnVisible('city')">{{ trxChild.city }}</td>
            <td *ngIf="isColumnVisible('state')">{{ trxChild.state }}</td>
            <td *ngIf="isColumnVisible('zip')">{{ trxChild.zip | zipCode }}</td>
            <td *ngIf="isColumnVisible('date')">{{ trxChild.date | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('purposeDescription')">{{ trxChild.purposeDescription }}</td>
            <td *ngIf="isColumnVisible('contributorEmployer')">{{ trxChild.contributorEmployer }}</td>
            <td *ngIf="isColumnVisible('contributorOccupation')">{{ trxChild.contributorOccupation }}</td>
            <td *ngIf="isColumnVisible('memoCode')">{{ trxChild.memoCode }}</td>
            <td *ngIf="isColumnVisible('memoText')">{{ trxChild.memoText }}</td>
            <td *ngIf="isRecycleBinViewActive()">{{ trxChild.deletedDate | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('amount')" class="transactions__amount">
              {{ trxChild.amount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('semiAnnualAmount')" class="transactions__amount">
              {{ trxChild.semiAnnualAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('aggregate')" class="transactions__amount">
              {{ trxChild.aggregate | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>

            <td>
              <div *ngIf="isRecycleBinViewActive()">
                <span
                  [title]="
                    !trxChild.iseditable
                      ? 'This transaction cannot be restored because it is either auto-generated or its parent is in deleted state.'
                      : ''
                  "
                >
                  <button
                    *ngIf="!_authService.isReadOnly()"
                    class="btn btn-sm btn-primary"
                    [disabled]="!trxChild.iseditable || _authService.isReadOnly()"
                    (click)="restoreTransaction(trxChild)"
                  >
                    <i class="undo-icon"></i>
                  </button>
                </span>
              </div>
              <div *ngIf="!_allTransactions || (_allTransactions && trxChild.reportstatus !== 'Filed')">
                <div
                  *ngIf="isTransactionViewActive()"
                  class="btn-group"
                  ngbDropdown
                  role="group"
                  aria-label="Action dropdown"
                >
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle (click)="checkIfOrphanTransaction(trx)">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <span
                      [title]="
                        !trxChild.iseditable ? 'This transaction cannot be edited because it is auto generated.' : ''
                      "
                    >
                      <button
                        [disabled]="!trxChild.iseditable && !_authService.isReadOnly()"
                        class="dropdown-item"
                        [disabled]="isDisabled(trxChild)"
                        (click)="editTransaction(trxChild)"
                      >
                        <i class="edit-icon"></i> Edit
                      </button>
                    </span>
                    <button
                      *ngIf="isForceItemizable(trxChild) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="forceItemizationToggle(trxChild)"
                    >
                      <i class="fas fa-calculator"></i>{{ getItemizationInd(trxChild) }}
                    </button>
                    <button
                      *ngIf="trxChild.isreattributable && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="reattributeTransaction(trxChild)"
                    >
                      <i class="clipboard-icon"></i> Reattribute
                    </button>
                    <button *ngIf="_authService.isReadOnly()" class="dropdown-item" (click)="viewTransaction(trxChild)">
                      <i class="fas fa-eye"></i> View
                    </button>
                    <button class="dropdown-item" (click)="printTransaction(trxChild)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <span
                      [title]="
                        !trxChild.iseditable ? 'This transaction cannot be cloned because it is auto generated.' : ''
                      "
                    >
                      <button
                        [disabled]="!trxChild.iseditable && !_authService.isReadOnly()"
                        class="dropdown-item"
                        [disabled]="isDisabled(trxChild)"
                        (click)="cloneTransaction(trxChild)"
                      >
                        <i class="fas fa-copy"></i> Clone
                      </button>
                    </span>
                    <span
                      [title]="
                        !trxChild.iseditable ? 'This transaction cannot be deleted because it is auto generated.' : ''
                      "
                    >
                      <button
                        [disabled]="!trxChild.iseditable"
                        *ngIf="checkIfTrashable(trx) && !_authService.isReadOnly()"
                        class="dropdown-item"
                        (click)="trashTransaction(trxChild)"
                      >
                        <i class="trash-icon"></i> Trash
                      </button>
                    </span>
                  </div>
                </div>
              </div>
              <div *ngIf="_allTransactions && trx.reportstatus === 'Filed'">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>
          </tr>
        </ng-container>

        <tr *ngIf="isTransactionViewActive()">
          <td></td>
          <td *ngIf="_allTransactions"></td>
          <td *ngIf="isColumnVisible('type')"></td>
          <td *ngIf="isColumnVisible('transactionId')"></td>
          <td *ngIf="isColumnVisible('name')"></td>
          <td *ngIf="isColumnVisible('street')"></td>
          <td *ngIf="isColumnVisible('city')"></td>
          <td *ngIf="isColumnVisible('state')"></td>
          <td *ngIf="isColumnVisible('zip')"></td>
          <td *ngIf="isColumnVisible('date')"></td>
          <td *ngIf="isColumnVisible('purposeDescription')"></td>
          <td *ngIf="isColumnVisible('contributorEmployer')"></td>
          <td *ngIf="isColumnVisible('contributorOccupation')"></td>
          <td *ngIf="isColumnVisible('memoCode')"></td>
          <td *ngIf="isColumnVisible('memoText')"></td>
          <td *ngIf="isRecycleBinViewActive()"></td>
          <td *ngIf="isColumnVisible('amount')">
            <div class="transactions__total-amount-container">
              <div class="transactions__total-amount">
                <b>Total</b>
                <!-- <i class="info-icon transactions__total-amount-tip" ngbTooltip="Represents the total amount of transactions entered on the report. 
                                Those transactions that are memo entries are not added into the total amount."
                    tooltipClass="form-tooltip">
                  </i> -->

                <i
                  class="info-icon transactions__total-amount-tip"
                  ngbTooltip="Represents the total amount of transactions entered on the report. 
                      Those transactions that are memo entries are not added into the total amount."
                  tooltipClass="transactions__tooltip"
                  triggers="click"
                >
                </i>
              </div>
              <div class="transactions__total-amount-val">
                <b>{{ totalAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}</b>
              </div>
            </div>
          </td>
          <td *ngIf="isColumnVisible('semiAnnualAmount')">
            <div class="transactions__total-amount-container">
              <div class="transactions__total-amount">
                <b>Total</b>
                <i
                  class="info-icon transactions__total-amount-tip"
                  ngbTooltip="Represents the total semi-annual amount of transactions entered on the report."
                  tooltipClass="transactions__tooltip"
                  triggers="click"
                >
                </i>
              </div>
              <div class="transactions__total-amount-val">
                <b>{{ totalSemiAnnualAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}</b>
              </div>
            </div>
          </td>
          <td *ngIf="isColumnVisible('aggregate')"></td>
          <td></td>
        </tr>
      </tbody>
    </table>

    <!--Disbursements transaction table-->
    <table
      class="table table-striped table-hover table__sortable transactions__table"
      *ngIf="transactionCategory === 'disbursements'"
    >
      <thead>
        <tr>
          <th class="transactions__table-checkbox">
            <input [(ngModel)]="allTransactionsSelected" type="checkbox" (change)="changeAllTransactionsSelected()" />
          </th>
          <th *ngIf="_allTransactions" [class]="getSortClass('reportType')" (click)="changeSortDirection('reportType')">
            Report Type
          </th>
          <th *ngIf="isColumnVisible('type')" [class]="getSortClass('type')" (click)="changeSortDirection('type')">
            Type
          </th>
          <th *ngIf="isColumnVisible('name')" [class]="getSortClass('name')" (click)="changeSortDirection('name')">
            Name
          </th>
          <th *ngIf="isColumnVisible('state')" [class]="getSortClass('state')" (click)="changeSortDirection('state')">
            State
          </th>
          <th *ngIf="isColumnVisible('date')" [class]="getSortClass('date')" (click)="changeSortDirection('date')">
            Date
          </th>
          <th
            *ngIf="isColumnVisible('memoCode')"
            [class]="getSortClass('memoCode')"
            (click)="changeSortDirection('memoCode')"
          >
            Memo
          </th>
          <th
            *ngIf="isColumnVisible('amount')"
            [class]="getSortClass('amount')"
            (click)="changeSortDirection('amount')"
          >
            Amount
          </th>
          <th
            *ngIf="isColumnVisible('semiAnnualAmount')"
            [class]="getSortClass('semiAnnualAmount')"
            (click)="changeSortDirection('semiAnnualAmount')"
          >
            Semi-Annual Amount
          </th>
          <th
            *ngIf="isColumnVisible('purposeDescription')"
            [class]="getSortClass('purposeDescription')"
            (click)="changeSortDirection('purposeDescription')"
          >
            Purpose
          </th>
          <th
            *ngIf="isColumnVisible('transactionId')"
            [class]="getSortClass('transactionId')"
            (click)="changeSortDirection('transactionId')"
          >
            Transaction Id
          </th>
          <th
            *ngIf="isColumnVisible('street')"
            [class]="getSortClass('street')"
            (click)="changeSortDirection('street')"
          >
            Street
          </th>
          <th *ngIf="isColumnVisible('city')" [class]="getSortClass('city')" (click)="changeSortDirection('city')">
            City
          </th>
          <th *ngIf="isColumnVisible('zip')" [class]="getSortClass('zip')" (click)="changeSortDirection('zip')">Zip</th>
          <th
            *ngIf="isColumnVisible('memoText')"
            [class]="getSortClass('memoText')"
            (click)="changeSortDirection('memoText')"
          >
            Memo Text
          </th>
          <th
            *ngIf="isRecycleBinViewActive()"
            [class]="getSortClass('deletedDate')"
            (click)="changeSortDirection('deletedDate')"
          >
            Deleted Date
          </th>
          <th
            *ngIf="isColumnVisible('committeeId')"
            [class]="getSortClass('committeeId')"
            (click)="changeSortDirection('committeeId')"
          >
            Donor Committee ID
          </th>
          <th
            *ngIf="isColumnVisible('electionCode')"
            [class]="getSortClass('electionCode')"
            (click)="changeSortDirection('electionCode')"
          >
            Election Code
          </th>
          <th
            *ngIf="isColumnVisible('electionYear')"
            [class]="getSortClass('electionYear')"
            (click)="changeSortDirection('electionYear')"
          >
            Election Year
          </th>
          <th class="bulk_action">
            <div *ngIf="editMode || _allTransactions">
              <div
                *ngIf="isTransactionViewActive()"
                class="btn-group"
                ngbDropdown
                role="group"
                aria-label="Action dropdown"
              >
                <button
                  class="btn btn-sm btn-primary transactions__bulk_action_btn"
                  ngbDropdownToggle
                  [disabled]="bulkActionDisabled"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()"><i class="print-icon"></i> Print</button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                  <button
                    *ngIf="!_authService.isReadOnly()"
                    class="dropdown-item"
                    (click)="trashAllSelected()"
                  >
                    <i class="trash-icon"></i> Trash
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!editMode && !_allTransactions && !isReportFiled()">
              <div
                *ngIf="isTransactionViewActive()"
                class="btn-group"
                ngbDropdown
                role="group"
                aria-label="Action dropdown"
              >
                <button
                  class="btn btn-sm btn-primary transactions__bulk_action_btn"
                  ngbDropdownToggle
                  [disabled]="bulkActionDisabled"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()"><i class="print-icon"></i> Print</button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!editMode && !_allTransactions && isReportFiled()">
              <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                <i class="ellipsis-icon"></i>
              </button>
            </div>
            <div *ngIf="isRecycleBinViewActive()">
              <button
                class="btn btn-sm btn-primary transactions__bulk_action_btn"
                (click)="deleteRecyleBin()"
                [disabled]="bulkActionDisabled"
              >
                <i class="trash-icon"></i>
              </button>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let trx of transactionsModel | paginate: config; let i = index">
          <tr>
            <td>
              <input [(ngModel)]="trx.selected" type="checkbox" (click)="checkForMultiChecked($event, trx)" />
            </td>
            <td *ngIf="_allTransactions">{{ trx.formType }} - {{ trx.reportType }}</td>
            <td *ngIf="isColumnVisible('type')">
              {{ !getCurrentItemizationStatus(trx) ? trx.type + ' (U) ' : trx.type }}
            </td>
            <td
              [ngClass]="trx.child ? 'parent' : ''"
              (click)="trx.child ? (trx.toggleChild = !trx.toggleChild) : false"
              *ngIf="isColumnVisible('name')"
            >
              {{ trx.name }}
              <div
                *ngIf="trx.child"
                class="align_right arrow"
                [ngClass]="trx.toggleChild ? 'arrow-top' : 'arrow-bottom'"
              ></div>
            </td>
            <td *ngIf="isColumnVisible('state')">{{ trx.state }}</td>
            <td *ngIf="isColumnVisible('date')">{{ trx.date | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('memoCode')">{{ trx.memoCode }}</td>
            <td *ngIf="isColumnVisible('amount')" class="transactions__amount">
              {{ trx.amount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('semiAnnualAmount')" class="transactions__amount">
              {{ trx.semiAnnualAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('purposeDescription')">{{ trx.purposeDescription }}</td>
            <td *ngIf="isColumnVisible('transactionId')">{{ trx.transactionId }}</td>
            <td *ngIf="isColumnVisible('street')">{{ trx.street }} {{ trx.street2 }}</td>
            <td *ngIf="isColumnVisible('city')">{{ trx.city }}</td>
            <td *ngIf="isColumnVisible('zip')">{{ trx.zip | zipCode }}</td>
            <td *ngIf="isColumnVisible('memoText')">{{ trx.memoText }}</td>
            <td *ngIf="isRecycleBinViewActive()">{{ trx.deletedDate | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('committeeId')">{{ committeeDetails.committeeid }}</td>
            <td *ngIf="isColumnVisible('electionCode')">{{ trx.electionCode }}</td>
            <td *ngIf="isColumnVisible('electionYear')">{{ trx.electionYear }}</td>
            <td>
              <div *ngIf="isRecycleBinViewActive()">
                <span
                  [title]="!trx.iseditable ? 'This transaction cannot be restored because it is auto generated.' : ''"
                >
                  <button
                    class="btn btn-sm btn-primary"
                    [disabled]="!trx.iseditable || _authService.isReadOnly()"
                    (click)="restoreTransaction(trx)"
                  >
                    <i class="undo-icon"></i>
                  </button>
                </span>
              </div>
              <!--trx.reportstatus is filed and isEditable flag is false the report is filed-->
              <!-- trx.reportstatus is filed and isEditable flag is true  the report is amended-->
              <div *ngIf="!_allTransactions || (_allTransactions && trx.iseditable)">
                <div
                  *ngIf="isTransactionViewActive()"
                  class="btn-group"
                  ngbDropdown
                  role="group"
                  aria-label="Action dropdown"
                >
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle (click)="checkIfOrphanTransaction(trx)">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button
                      *ngIf="isIKOUT(trx) || _authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="viewTransaction(trx)"
                    >
                      <i class="view-icon"></i> View
                    </button>
                    <span
                      [title]="!trx.iseditable ? 'This transaction cannot be edited because it is autogenerated.' : ''"
                    >
                      <button
                        *ngIf="trx.iseditable && !_authService.isReadOnly()"
                        class="dropdown-item"
                        [disabled]="isDisabled(trx)"
                        (click)="editTransaction(trx)"
                      >
                        <i class="edit-icon"></i> Edit
                      </button>
                    </span>
                    <button
                      *ngIf="isForceItemizable(trx) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="forceItemizationToggle(trx)"
                    >
                      <i class="fas fa-calculator"></i>{{ getItemizationInd(trx) }}
                    </button>
                    <button
                      *ngIf="trx.isredesignatable && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="redesignateTransaction(trx)"
                    >
                      <i class="clipboard-icon"></i> Redesignate
                    </button>
                    <button class="dropdown-item" (click)="printTransaction(trx)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <span
                      [title]="!trx.iseditable ? 'This transaction cannot be cloned because it is autogenerated.' : ''"
                    >
                      <button
                        class="dropdown-item"
                        *ngIf="trx.iseditable && !_authService.isReadOnly()"
                        [disabled]="isDisabled(trx)"
                        (click)="cloneTransaction(trx)"
                      >
                        <i class="fas fa-copy"></i> Clone
                      </button>
                    </span>
                    <span
                      [title]="
                        !trx.iseditable ? 'This transaction cannot be deleted because it is auto generated.' : ''
                      "
                    >
                      <button
                        *ngIf="trx.iseditable && checkIfTrashable(trx) && !_authService.isReadOnly()"
                        class="dropdown-item"
                        (click)="trashTransaction(trx)"
                      >
                        <i class="trash-icon"></i> Trash
                      </button>
                    </span>
                    <button
                      class="dropdown-item"
                      [disabled]="isDisabled(trx)"
                      (click)="linkToF24(trx)"
                      *ngIf="
                        trx.transactionTypeIdentifier === 'IE' &&
                        _allTransactions &&
                        trx.formType === 'F3X' &&
                        !trx.mirrorReportId &&
                        !trx.mirrorTransactionId
                      "
                    >
                      <i class="fas link-icon"></i> Link to F24
                    </button>
                  </div>
                </div>
              </div>
              <div *ngIf="_allTransactions && trx.reportstatus === 'Filed' && !trx.iseditable">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>
          </tr>
          <tr [ngbCollapse]="trx.child ? !trx.toggleChild : false" *ngFor="let trxChild of trx.child" class="child-bg">
            <td style="padding-left: 1.5rem">
              <input
                [(ngModel)]="trxChild.selected"
                type="checkbox"
                (click)="checkForMultiChecked($event, trx)"
                hidden
              />
            </td>
            <td *ngIf="_allTransactions">{{ trxChild.reportType }}</td>
            <td *ngIf="isColumnVisible('type')" style="padding-left: 1.5rem">
              {{ !getCurrentItemizationStatus(trxChild) ? trxChild.type + ' (U) ' : trxChild.type }}
            </td>
            <td *ngIf="isColumnVisible('name')">{{ trxChild.name }}</td>
            <td *ngIf="isColumnVisible('state')">{{ trxChild.state }}</td>
            <td *ngIf="isColumnVisible('date')">{{ trxChild.date | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('memoCode')">{{ trxChild.memoCode }}</td>
            <td *ngIf="isColumnVisible('amount')" class="transactions__amount">
              {{ trxChild.amount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('semiAnnualAmount')" class="transactions__amount">
              {{ trxChild.semiAnnualAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('purposeDescription')">{{ trxChild.purposeDescription }}</td>
            <td *ngIf="isColumnVisible('transactionId')">{{ trxChild.transactionId }}</td>
            <td *ngIf="isColumnVisible('street')">{{ trxChild.street }} {{ trxChild.street2 }}</td>
            <td *ngIf="isColumnVisible('city')">{{ trxChild.city }}</td>
            <td *ngIf="isColumnVisible('zip')">{{ trxChild.zip | zipCode }}</td>
            <td *ngIf="isColumnVisible('memoText')">{{ trxChild.memoText }}</td>
            <td *ngIf="isRecycleBinViewActive()">{{ trxChild.deletedDate | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('committeeId')">{{ committeeDetails.committeeid }}</td>
            <td *ngIf="isColumnVisible('electionCode')">{{ trxChild.electionCode }}</td>
            <td *ngIf="isColumnVisible('electionYear')">{{ trxChild.electionYear }}</td>
            <td>
              <div *ngIf="isRecycleBinViewActive()">
                <span
                  [title]="
                    !trxChild.iseditable
                      ? 'This transaction cannot be restored because it is either auto-generated or its parent is in deleted state.'
                      : ''
                  "
                >
                  <button
                    class="btn btn-sm btn-primary"
                    [disabled]="!trxChild.iseditable || _authService.isReadOnly()"
                    (click)="restoreTransaction(trxChild)"
                  >
                    <i class="undo-icon"></i>
                  </button>
                </span>
              </div>
              <div *ngIf="!_allTransactions || (_allTransactions && trxChild.reportstatus !== 'Filed')">
                <div
                  *ngIf="isTransactionViewActive()"
                  class="btn-group"
                  ngbDropdown
                  role="group"
                  aria-label="Action dropdown"
                >
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle (click)="checkIfOrphanTransaction(trx)">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button
                      *ngIf="isIKOUT(trx) || _authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="viewTransaction(trx)"
                    >
                      <i class="view-icon"></i> View
                    </button>
                    <button
                      *ngIf="!_authService.isReadOnly()"
                      class="dropdown-item"
                      [disabled]="isDisabled(trxChild)"
                      (click)="editTransaction(trxChild)"
                    >
                      <i class="edit-icon"></i> Edit
                    </button>
                    <button
                      *ngIf="isForceItemizable(trxChild) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="forceItemizationToggle(trxChild)"
                    >
                      <i class="fas fa-calculator"></i>{{ getItemizationInd(trxChild) }}
                    </button>
                    <button class="dropdown-item" (click)="printTransaction(trxChild)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <button
                      *ngIf="!_authService.isReadOnly()"
                      class="dropdown-item"
                      [disabled]="isDisabled(trxChild)"
                      (click)="cloneTransaction(trxChild)"
                    >
                      <i class="fas fa-copy"></i> Clone
                    </button>
                    <button
                      *ngIf="checkIfTrashable(trxChild) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="trashTransaction(trxChild)"
                    >
                      <i class="trash-icon"></i> Trash
                    </button>
                  </div>
                </div>
              </div>
              <div *ngIf="_allTransactions && trx.reportstatus === 'Filed'">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>
          </tr>
        </ng-container>

        <tr *ngIf="isTransactionViewActive()">
          <td></td>
          <td *ngIf="_allTransactions"></td>
          <td *ngIf="isColumnVisible('type')"></td>
          <td *ngIf="isColumnVisible('name')"></td>
          <td *ngIf="isColumnVisible('date')"></td>
          <td *ngIf="isColumnVisible('memoCode')"></td>
          <td *ngIf="isColumnVisible('amount')">
            <div class="transactions__total-amount-container">
              <div class="transactions__total-amount">
                <b>Total</b>
                <i
                  class="info-icon transactions__total-amount-tip"
                  ngbTooltip="Represents the total amount of transactions entered on the report. 
                        Those transactions that are memo entries are not added into the total amount."
                  tooltipClass="transactions__tooltip"
                  triggers="click"
                >
                </i>
              </div>
              <div class="transactions__total-amount-val">
                <b>{{ totalAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}</b>
              </div>
            </div>
          </td>
          <td *ngIf="isColumnVisible('semiAnnualAmount')">
            <div class="transactions__total-amount-container">
              <div class="transactions__total-amount">
                <b>Total</b>
                <i
                  class="info-icon transactions__total-amount-tip"
                  ngbTooltip="Represents the total semi-annual amount of transactions entered on the report."
                  tooltipClass="transactions__tooltip"
                  triggers="click"
                >
                </i>
              </div>
              <div class="transactions__total-amount-val">
                <b>{{ totalSemiAnnualAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}</b>
              </div>
            </div>
          </td>
          <td *ngIf="isColumnVisible('purposeDescription')"></td>
          <td *ngIf="isColumnVisible('transactionId')"></td>
          <td *ngIf="isColumnVisible('street')"></td>
          <td *ngIf="isColumnVisible('city')"></td>
          <td *ngIf="isColumnVisible('state')"></td>
          <td *ngIf="isColumnVisible('zip')"></td>
          <td *ngIf="isColumnVisible('memoText')"></td>
          <td *ngIf="isColumnVisible('committeeId')"></td>
          <td *ngIf="isColumnVisible('electionCode')"></td>
          <td *ngIf="isColumnVisible('electionYear')"></td>
          <td *ngIf="isRecycleBinViewActive()"></td>
          <td></td>
        </tr>
      </tbody>
    </table>

    <!--Loans and debts transaction table-->
    <table
      class="table table-striped table-hover table__sortable transactions__table"
      *ngIf="transactionCategory === 'loans-and-debts'"
    >
      <thead>
        <tr>
          <th class="transactions__table-checkbox">
            <input [(ngModel)]="allTransactionsSelected" type="checkbox" (change)="changeAllTransactionsSelected()" />
          </th>
          <th *ngIf="_allTransactions" [class]="getSortClass('reportType')" (click)="changeSortDirection('reportType')">
            Report Type
          </th>
          <th *ngIf="isColumnVisible('type')" [class]="getSortClass('type')" (click)="changeSortDirection('type')">
            Transaction Type
          </th>
          <th *ngIf="isColumnVisible('name')" [class]="getSortClass('name')" (click)="changeSortDirection('name')">
            Name
          </th>
          <th *ngIf="isColumnVisible('date')" [class]="getSortClass('date')" (click)="changeSortDirection('date')">
            Date
          </th>
          <th
            *ngIf="isColumnVisible('memoCode')"
            [class]="getSortClass('memoCode')"
            (click)="changeSortDirection('memoCode')"
          >
            Memo
          </th>
          <th
            *ngIf="isColumnVisible('loanBeginningBalance')"
            [class]="getSortClass('loanBeginningBalance')"
            (click)="changeSortDirection('loanBeginningBalance')"
          >
            Beginning Balance (D)
          </th>
          <th
            *ngIf="isColumnVisible('purposeDescription')"
            [class]="getSortClass('purposeDescription')"
            (click)="changeSortDirection('purposeDescription')"
          >
            Purpose of Debt (D)
          </th>
          <th
            *ngIf="isColumnVisible('transactionId')"
            [class]="getSortClass('transactionId')"
            (click)="changeSortDirection('transactionId')"
          >
            Transaction Id
          </th>
          <th
            *ngIf="isColumnVisible('street')"
            [class]="getSortClass('street')"
            (click)="changeSortDirection('street')"
          >
            Street
          </th>
          <th *ngIf="isColumnVisible('city')" [class]="getSortClass('city')" (click)="changeSortDirection('city')">
            City
          </th>
          <th *ngIf="isColumnVisible('state')" [class]="getSortClass('state')" (click)="changeSortDirection('state')">
            State
          </th>
          <th *ngIf="isColumnVisible('zip')" [class]="getSortClass('zip')" (click)="changeSortDirection('zip')">Zip</th>
          <th
            *ngIf="isColumnVisible('memoText')"
            [class]="getSortClass('memoText')"
            (click)="changeSortDirection('memoText')"
          >
            Memo/Text Description
          </th>
          <th
            *ngIf="isRecycleBinViewActive()"
            [class]="getSortClass('deletedDate')"
            (click)="changeSortDirection('deletedDate')"
          >
            Deleted Date
          </th>
          <th
            *ngIf="isColumnVisible('loanIncurredAmt')"
            [class]="getSortClass('loanIncurredAmt')"
            (click)="changeSortDirection('loanIncurredAmt')"
          >
            Incurred Amount (D)
          </th>
          <th
            *ngIf="isColumnVisible('loanPaymentAmt')"
            [class]="getSortClass('loanPaymentAmt')"
            (click)="changeSortDirection('loanPaymentAmt')"
          >
            Payment Amount (D)
          </th>
          <th
            *ngIf="isColumnVisible('loanClosingBalance')"
            [class]="getSortClass('loanClosingBalance')"
            (click)="changeSortDirection('loanClosingBalance')"
          >
            Balance at Close (D)
          </th>
          <th
            *ngIf="isColumnVisible('loanAmount')"
            [class]="getSortClass('loanAmount')"
            (click)="changeSortDirection('loanAmount')"
          >
            Loan Amount (C)
          </th>
          <th
            *ngIf="isColumnVisible('loanPaymentToDate')"
            [class]="getSortClass('loanPaymentToDate')"
            (click)="changeSortDirection('loanPaymentToDate')"
          >
            Loan Payment to Date (C)
          </th>
          <th
            *ngIf="isColumnVisible('loanBalance')"
            [class]="getSortClass('loanBalance')"
            (click)="changeSortDirection('loanBalance')"
          >
            Loan Balance (C)
          </th>
          <th
            *ngIf="isColumnVisible('loanIncurredDate')"
            [class]="getSortClass('loanIncurredDate')"
            (click)="changeSortDirection('loanIncurredDate')"
          >
            Loan Incurred Date (C)
          </th>
          <th
            *ngIf="isColumnVisible('loanDueDate')"
            [class]="getSortClass('loanDueDate')"
            (click)="changeSortDirection('loanDueDate')"
          >
            Loan Due Date (C)
          </th>
          <th class="bulk_action">
            <div *ngIf="editMode || _allTransactions">
              <div
                *ngIf="isTransactionViewActive()"
                class="btn-group"
                ngbDropdown
                role="group"
                aria-label="Action dropdown"
              >
                <button
                  class="btn btn-sm btn-primary transactions__bulk_action_btn"
                  ngbDropdownToggle
                  [disabled]="bulkActionDisabled"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()"><i class="print-icon"></i> Print</button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                  <button
                    *ngIf="!_authService.isReadOnly()"
                    class="dropdown-item"
                    (click)="trashAllSelected()"
                  >
                    <i class="trash-icon"></i> Trash
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!editMode && !_allTransactions && !isReportFiled()">
              <div
                *ngIf="isTransactionViewActive()"
                class="btn-group"
                ngbDropdown
                role="group"
                aria-label="Action dropdown"
              >
                <button
                  class="btn btn-sm btn-primary transactions__bulk_action_btn"
                  ngbDropdownToggle
                  [disabled]="bulkActionDisabled"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()"><i class="print-icon"></i> Print</button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="isRecycleBinViewActive()">
              <button
                class="btn btn-sm btn-primary transactions__bulk_action_btn"
                (click)="deleteRecyleBin()"
                [disabled]="bulkActionDisabled"
              >
                <i class="trash-icon"></i>
              </button>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let trx of transactionsModel | paginate: config; let i = index">
          <tr>
            <td>
              <input [(ngModel)]="trx.selected" type="checkbox" (click)="checkForMultiChecked($event, trx)" />
            </td>
            <td *ngIf="_allTransactions">{{ trx.reportType }}</td>
            <td *ngIf="isColumnVisible('type')">
              {{ !getCurrentItemizationStatus(trx) ? trx.type + ' (U) ' : trx.type }}
            </td>

            <td
              [ngClass]="showRow(trx, 'sched_c1') || showRow(trx, 'sched_c2') ? 'parent' : ''"
              (click)="
                trx?.entityType === 'ORG' &&
                (trx?.transactionTypeIdentifier === 'LOANS_OWED_BY_CMTE' ||
                  trx?.transactionTypeIdentifier === 'LOANS_OWED_TO_CMTE')
                  ? (trx.toggleChild = !trx.toggleChild)
                  : ''
              "
              *ngIf="isColumnVisible('name')"
            >
              {{ trx.name }}
              <div
                *ngIf="showRow(trx, 'sched_c1') || showRow(trx, 'sched_c2')"
                class="align_right arrow"
                [ngClass]="trx.toggleChild ? 'arrow-top' : 'arrow-bottom'"
              ></div>
            </td>
            <td *ngIf="isColumnVisible('date')">{{ trx.date | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('memoCode')">{{ trx.memoCode }}</td>
            <td *ngIf="isColumnVisible('loanBeginningBalance')" class="transactions__amount">
              {{ trx.loanBeginningBalance | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('purposeDescription')">{{ trx.purposeDescription }}</td>
            <td *ngIf="isColumnVisible('transactionId')">{{ trx.transactionId }}</td>
            <td *ngIf="isColumnVisible('street')">{{ trx.street }} {{ trx.street2 }}</td>
            <td *ngIf="isColumnVisible('city')">{{ trx.city }}</td>
            <td *ngIf="isColumnVisible('state')">{{ trx.state }}</td>
            <td *ngIf="isColumnVisible('zip')">{{ trx.zip | zipCode }}</td>
            <td *ngIf="isColumnVisible('memoText')">{{ trx.memoText }}</td>
            <td *ngIf="isRecycleBinViewActive()">{{ trx.deletedDate | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('loanIncurredAmt')">
              {{ trx.loanIncurredAmt | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('loanPaymentAmt')">
              {{ trx.loanPaymentAmt | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('loanClosingBalance')">
              {{ trx.loanClosingBalance | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('loanAmount')">
              {{ trx.loanAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('loanPaymentToDate')">{{ trx.loanPaymentToDate }}</td>
            <td *ngIf="isColumnVisible('loanBalance')">
              {{ trx.loanBalance | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('loanIncurredDate')">{{ trx.loanIncurredDate | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('loanDueDate')">{{ trx.loanDueDate }}</td>
            <td>
              <div *ngIf="isRecycleBinViewActive()">
                <button
                  class="btn btn-sm btn-primary"
                  [disabled]="_authService.isReadOnly()"
                  (click)="restoreTransaction(trx)"
                >
                  <i class="undo-icon"></i>
                </button>
              </div>
              <!--trx.reportstatus is filed and isEditable flag is false the report is filed-->
              <!-- trx.reportstatus is filed and isEditable flag is true  the report is amended-->
              <div *ngIf="!_allTransactions || (_allTransactions && trx.iseditable)">
                <div
                  *ngIf="isTransactionViewActive()"
                  class="btn-group"
                  ngbDropdown
                  role="group"
                  aria-label="Action dropdown"
                >
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle (click)="checkIfOrphanTransaction(trx)">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button
                      *ngIf="!_authService.isReadOnly()"
                      class="dropdown-item"
                      [disabled]="isDisabled(trx)"
                      (click)="editTransaction(trx)"
                    >
                      <i class="edit-icon"></i> Edit
                    </button>
                    <button
                      *ngIf="isForceItemizable(trx) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="forceItemizationToggle(trx)"
                    >
                      <i class="fas fa-calculator"></i>{{ getItemizationInd(trx) }}
                    </button>
                    <button *ngIf="_authService.isReadOnly()" class="dropdown-item" (click)="viewTransaction(trx)">
                      <i class="view-icon"></i> View
                    </button>
                    <button class="dropdown-item" (click)="printTransaction(trx)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <button *ngIf="isForceItemizable(trx)" class="dropdown-item" (click)="forceItemizationToggle(trx)">
                      <i class="fas fa-calculator"></i>{{ getItemizationInd(trx) }}
                    </button>
                    <span
                      [title]="
                        !trx.iseditable ? 'This transaction cannot be deleted because it is auto generated.' : ''
                      "
                    >
                      <button
                        *ngIf="trx.isTrashable && checkIfTrashable(trx) && !_authService.isReadOnly()"
                        class="dropdown-item"
                        (click)="trashTransaction(trx)"
                      >
                        <i class="trash-icon"></i> Trash
                      </button>
                    </span>
                    <button
                      class="dropdown-item"
                      (click)="goToLoanRepayment(trx)"
                      *ngIf="trx.apiCall === '/sc/schedC' && !_authService.isReadOnly()"
                    >
                      <i class="print-icon"></i> Loan repayment
                    </button>
                    <button
                      *ngIf="trx.apiCall === '/sd/schedD' && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="goToDebtPayment(trx)"
                    >
                      <i class="print-icon"></i> Make a payment
                    </button>
                  </div>
                </div>
              </div>
              <div *ngIf="_allTransactions && !trx.iseditable">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>
          </tr>
          <tr
            *ngIf="showRow(trx, 'sched_c1')"
            [ngbCollapse]="
              trx?.entityType === 'ORG' &&
              (trx?.transactionTypeIdentifier === 'LOANS_OWED_BY_CMTE' ||
                trx?.transactionTypeIdentifier === 'LOANS_OWED_TO_CMTE')
                ? !trx.toggleChild
                : false
            "
            class="child-bg"
          >
            <td style="padding-left: 70px" colspan="5">Schedule C1</td>
            <td>
              <div class="btn-group" ngbDropdown role="group" aria-label="Action dropdown">
                <button
                  class="btn btn-sm btn-primary"
                  ngbDropdownToggle
                  [disabled]="!bulkActionDisabled"
                  (click)="checkIfOrphanTransaction(trx)"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="loanSumamry__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="goToC1(trx)"><i class="edit-icon"></i> Edit</button>
                </div>
              </div>
            </td>
          </tr>
          <tr
            *ngIf="showRow(trx, 'sched_c2')"
            [ngbCollapse]="
              trx?.entityType === 'ORG' &&
              (trx?.transactionTypeIdentifier === 'LOANS_OWED_BY_CMTE' ||
                trx?.transactionTypeIdentifier === 'LOANS_OWED_TO_CMTE')
                ? !trx.toggleChild
                : false
            "
            class="child-bg"
          >
            <td style="padding-left: 70px" colspan="5">Endorsers</td>
            <td>
              <div class="btn-group" ngbDropdown role="group" aria-label="Action dropdown">
                <button class="btn btn-sm btn-primary" ngbDropdownToggle [disabled]="!bulkActionDisabled">
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="loanSumamry__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button
                    class="dropdown-item"
                    (click)="goToEndorsersSummary(trx)"
                    (click)="checkIfOrphanTransaction(trx)"
                  >
                    <i class="edit-icon"></i> Edit
                  </button>
                </div>
              </div>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>

    <!--Other transaction table-->
    <table
      class="table table-striped table-hover table__sortable transactions__table"
      *ngIf="transactionCategory === 'other'"
    >
      <thead>
        <tr>
          <th class="transactions__table-checkbox">
            <input [(ngModel)]="allTransactionsSelected" type="checkbox" (change)="changeAllTransactionsSelected()" />
          </th>
          <th *ngIf="_allTransactions" [class]="getSortClass('reportType')" (click)="changeSortDirection('reportType')">
            Report Type
          </th>
          <th
            *ngIf="isColumnVisible('schedule')"
            [class]="getSortClass('schedule')"
            (click)="changeSortDirection('schedule')"
          >
            Schedule
          </th>
          <th *ngIf="isColumnVisible('type')" [class]="getSortClass('type')" (click)="changeSortDirection('type')">
            Transaction Type
          </th>
          <th *ngIf="isColumnVisible('name')" [class]="getSortClass('name')" (click)="changeSortDirection('name')">
            Name
          </th>
          <th *ngIf="isColumnVisible('date')" [class]="getSortClass('date')" (click)="changeSortDirection('date')">
            Date
          </th>
          <th
            *ngIf="isColumnVisible('memoCode')"
            [class]="getSortClass('memoCode')"
            (click)="changeSortDirection('memoCode')"
          >
            Memo
          </th>
          <th
            *ngIf="isColumnVisible('amount')"
            [class]="getSortClass('amount')"
            (click)="changeSortDirection('amount')"
          >
            Amount
          </th>
          <th
            *ngIf="isColumnVisible('purposeDescription')"
            [class]="getSortClass('purposeDescription')"
            (click)="changeSortDirection('purposeDescription')"
          >
            Purpose
          </th>
          <th
            *ngIf="isColumnVisible('transactionId')"
            [class]="getSortClass('transactionId')"
            (click)="changeSortDirection('transactionId')"
          >
            Transaction Id
          </th>
          <th
            *ngIf="isColumnVisible('street')"
            [class]="getSortClass('street')"
            (click)="changeSortDirection('street')"
          >
            Street
          </th>
          <th *ngIf="isColumnVisible('city')" [class]="getSortClass('city')" (click)="changeSortDirection('city')">
            City
          </th>
          <th *ngIf="isColumnVisible('state')" [class]="getSortClass('state')" (click)="changeSortDirection('state')">
            State
          </th>
          <th *ngIf="isColumnVisible('zip')" [class]="getSortClass('zip')" (click)="changeSortDirection('zip')">Zip</th>
          <th
            *ngIf="isColumnVisible('memoText')"
            [class]="getSortClass('memoText')"
            (click)="changeSortDirection('memoText')"
          >
            Memo Text
          </th>
          <th
            *ngIf="isColumnVisible('eventId')"
            [class]="getSortClass('eventId')"
            (click)="changeSortDirection('eventId')"
          >
            Activity or Event Identifier
          </th>
          <th class="bulk_action">
            <div *ngIf="editMode || _allTransactions">
              <div
                *ngIf="isTransactionViewActive()"
                class="btn-group"
                ngbDropdown
                role="group"
                aria-label="Action dropdown"
              >
                <button
                  class="btn btn-sm btn-primary transactions__bulk_action_btn"
                  ngbDropdownToggle
                  [disabled]="bulkActionDisabled"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()"><i class="print-icon"></i> Print</button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                  <button
                    *ngIf="!_authService.isReadOnly()"
                    class="dropdown-item"
                    (click)="trashAllSelected()"
                  >
                    <i class="trash-icon"></i> Trash
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!editMode && !_allTransactions && !isReportFiled()">
              <div
                *ngIf="isTransactionViewActive()"
                class="btn-group"
                ngbDropdown
                role="group"
                aria-label="Action dropdown"
              >
                <button
                  class="btn btn-sm btn-primary transactions__bulk_action_btn"
                  ngbDropdownToggle
                  [disabled]="bulkActionDisabled"
                >
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()"><i class="print-icon"></i> Print</button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!editMode && !_allTransactions && isReportFiled()">
              <div *ngIf="isTransactionViewActive()" class="btn-group" role="group" aria-label="Action dropdown">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </div>
            <div *ngIf="isRecycleBinViewActive()">
              <button
                class="btn btn-sm btn-primary transactions__bulk_action_btn"
                (click)="deleteRecyleBin()"
                [disabled]="bulkActionDisabled"
              >
                <i class="trash-icon"></i>
              </button>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let trx of transactionsModel | paginate: config; let i = index">
          <tr>
            <td>
              <input [(ngModel)]="trx.selected" type="checkbox" (click)="checkForMultiChecked($event, trx)" />
            </td>
            <td *ngIf="_allTransactions">{{ trx.reportType }}</td>
            <td *ngIf="isColumnVisible('schedule')">{{ trx.scheduleType }}</td>
            <td *ngIf="isColumnVisible('type')">
              {{ !getCurrentItemizationStatus(trx) ? trx.type + ' (U) ' : trx.type }}
            </td>
            <td
              [ngClass]="trx.child ? 'parent' : ''"
              (click)="trx.child ? (trx.toggleChild = !trx.toggleChild) : false"
              *ngIf="isColumnVisible('name')"
            >
              {{ trx.name }}
              <div
                *ngIf="trx.child"
                class="align_right arrow"
                [ngClass]="trx.toggleChild ? 'arrow-top' : 'arrow-bottom'"
              ></div>
            </td>
            <td *ngIf="isColumnVisible('date')">{{ trx.date | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('memoCode')">{{ trx.memoCode }}</td>
            <td *ngIf="isColumnVisible('amount')" class="transactions__amount">
              {{
                trx.transactionTypeIdentifier === 'ALLOC_H1' || trx.transactionTypeIdentifier === 'ALLOC_H2_RATIO'
                  ? ''
                  : (trx.amount | currency: 'USD':'symbol-narrow':'1.2-2')
              }}
            </td>
            <td *ngIf="isColumnVisible('purposeDescription')">{{ trx.purposeDescription }}</td>
            <td *ngIf="isColumnVisible('transactionId')">{{ trx.transactionId }}</td>
            <td *ngIf="isColumnVisible('street')">{{ trx.street }} {{ trx.street2 }}</td>
            <td *ngIf="isColumnVisible('city')">{{ trx.city }}</td>
            <td *ngIf="isColumnVisible('state')">{{ trx.state }}</td>
            <td *ngIf="isColumnVisible('zip')">{{ trx.zip | zipCode }}</td>
            <td *ngIf="isColumnVisible('memoText')">{{ trx.memoText }}</td>
            <td *ngIf="isColumnVisible('eventId')">{{ trx.activityEventIdentifier }}</td>
            <td>
              <div *ngIf="isRecycleBinViewActive()">
                <span
                  [title]="
                    !trx.iseditable
                      ? 'This transaction cannot be restored because a linked transaction is also in deleted state. 
                  Please restore the linked transaction first.'
                      : ''
                  "
                >
                  <button
                    class="btn btn-sm btn-primary"
                    [disabled]="!trx.iseditable || _authService.isReadOnly()"
                    (click)="restoreTransaction(trx)"
                  >
                    <i class="undo-icon"></i>
                  </button>
                </span>
              </div>
              <div *ngIf="!_allTransactions || (_allTransactions && trx.iseditable)">
                <div
                  *ngIf="isTransactionViewActive()"
                  class="btn-group"
                  ngbDropdown
                  role="group"
                  aria-label="Action dropdown"
                >
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle (click)="checkIfOrphanTransaction(trx)">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button
                      *ngIf="!_authService.isReadOnly()"
                      class="dropdown-item"
                      [disabled]="isDisabled(trx)"
                      (click)="editTransaction(trx)"
                    >
                      <i class="edit-icon"></i> Edit
                    </button>
                    <button
                      *ngIf="isForceItemizable(trx) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="forceItemizationToggle(trx)"
                    >
                      <i class="fas fa-calculator"></i>{{ getItemizationInd(trx) }}
                    </button>
                    <button class="dropdown-item" (click)="printTransaction(trx)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <button
                      *ngIf="
                        trx.scheduleType !== 'Schedule H1' &&
                        trx.scheduleType !== 'Schedule H2' &&
                        trx.scheduleType !== 'Schedule H3' &&
                        trx.scheduleType !== 'Schedule H5' &&
                        !_authService.isReadOnly()
                      "
                      class="dropdown-item"
                      [disabled]="isDisabled(trx)"
                      (click)="cloneTransaction(trx)"
                    >
                      <i class="fas fa-copy"></i> Clone
                    </button>
                    <button *ngIf="_authService.isReadOnly()" class="dropdown-item" (click)="viewTransaction(trx)">
                      <i class="view-icon"></i> View
                    </button>
                    <span
                      [title]="
                        (
                          (trx.scheduleType === 'Schedule H1' || trx.scheduleType === 'Schedule H2') &&
                          trx.isTrashable !== undefined
                            ? !trx.isTrashable
                            : !trx.iseditable
                        )
                          ? 'This transaction cannot be deleted because of a linked transaction.'
                          : ''
                      "
                    >
                      <button
                        [disabled]="
                          (trx.scheduleType === 'Schedule H1' || trx.scheduleType === 'Schedule H2') &&
                          trx.isTrashable !== undefined
                            ? !trx.isTrashable
                            : !trx.iseditable
                        "
                        *ngIf="checkIfTrashable(trx) && !_authService.isReadOnly()"
                        class="dropdown-item"
                        (click)="trashTransaction(trx)"
                      >
                        <i class="trash-icon"></i> Trash
                      </button>
                    </span>
                  </div>
                </div>
              </div>
              <div *ngIf="_allTransactions && !trx.iseditable">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>
          </tr>
          <tr [ngbCollapse]="trx.child ? !trx.toggleChild : false" *ngFor="let trxChild of trx.child" class="child-bg">
            <td style="padding-left: 1.5rem">
              <input
                [(ngModel)]="trxChild.selected"
                type="checkbox"
                (click)="checkForMultiChecked($event, trx)"
                hidden
              />
            </td>
            <td *ngIf="_allTransactions">{{ trxChild.reportType }}</td>
            <td *ngIf="isColumnVisible('schedule')">{{ trxChild.scheduleType }}</td>
            <td *ngIf="isColumnVisible('type')" style="padding-left: 1.5rem">
              {{ !getCurrentItemizationStatus(trxChild) ? trxChild.type + ' (U) ' : trxChild.type }}
            </td>
            <td *ngIf="isColumnVisible('name')">{{ trxChild.name }}</td>
            <td *ngIf="isColumnVisible('date')">{{ trxChild.date | date: 'MM/dd/yyyy' }}</td>
            <td *ngIf="isColumnVisible('memoCode')">{{ trxChild.memoCode }}</td>
            <td *ngIf="isColumnVisible('amount')" class="transactions__amount">
              {{ trxChild.amount | currency: 'USD':'symbol-narrow':'1.2-2' }}
            </td>
            <td *ngIf="isColumnVisible('purposeDescription')">{{ trxChild.purposeDescription }}</td>
            <td *ngIf="isColumnVisible('transactionId')">{{ trxChild.transactionId }}</td>
            <td *ngIf="isColumnVisible('street')">{{ trxChild.street }} {{ trxChild.street2 }}</td>
            <td *ngIf="isColumnVisible('city')">{{ trxChild.city }}</td>
            <td *ngIf="isColumnVisible('state')">{{ trxChild.state }}</td>
            <td *ngIf="isColumnVisible('zip')">{{ trxChild.zip | zipCode }}</td>
            <td *ngIf="isColumnVisible('memoText')">{{ trxChild.memoText }}</td>
            <td *ngIf="isColumnVisible('eventId')">{{ trxChild.activityEventIdentifier }}</td>
            <td>
              <div *ngIf="isRecycleBinViewActive()">
                <span
                  [title]="
                    !trxChild.iseditable
                      ? 'This transaction cannot be restored because it is either auto-generated or its parent is in deleted state.'
                      : ''
                  "
                >
                  <button
                    class="btn btn-sm btn-primary"
                    [disabled]="!trxChild.iseditable || _authService.isReadOnly()"
                    (click)="restoreTransaction(trxChild)"
                  >
                    <i class="undo-icon"></i>
                  </button>
                </span>
              </div>
              <div *ngIf="!_allTransactions || (_allTransactions && trxChild.reportstatus !== 'Filed')">
                <div
                  *ngIf="isTransactionViewActive()"
                  class="btn-group"
                  ngbDropdown
                  role="group"
                  aria-label="Action dropdown"
                >
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle (click)="checkIfOrphanTransaction(trx)">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button
                      *ngIf="!_authService.isReadOnly()"
                      class="dropdown-item"
                      [disabled]="isDisabled(trxChild)"
                      (click)="editTransaction(trxChild)"
                    >
                      <i class="edit-icon"></i> Edit
                    </button>
                    <button
                      *ngIf="isForceItemizable(trxChild) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="forceItemizationToggle(trxChild)"
                    >
                      <i class="fas fa-calculator"></i>{{ getItemizationInd(trxChild) }}
                    </button>
                    <button *ngIf="_authService.isReadOnly()" class="dropdown-item" (click)="viewTransaction(trxChild)">
                      <i class="view-icon"></i> View
                    </button>
                    <button class="dropdown-item" (click)="printTransaction(trxChild)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <button
                      class="dropdown-item"
                      *ngIf="
                        trxChild.scheduleType !== 'Schedule H1' &&
                        trxChild.scheduleType !== 'Schedule H2' &&
                        trxChild.scheduleType !== 'Schedule H3' &&
                        trxChild.scheduleType !== 'Schedule H5'
                      "
                      [disabled]="isDisabled(trxChild)"
                      (click)="cloneTransaction(trxChild)"
                    >
                      <i class="fas fa-copy"></i> Clone
                    </button>
                    <button
                      *ngIf="checkIfTrashable(trxChild) && !_authService.isReadOnly()"
                      class="dropdown-item"
                      (click)="trashTransaction(trxChild)"
                    >
                      <i class="trash-icon"></i> Trash
                    </button>
                  </div>
                </div>
              </div>
              <div *ngIf="_allTransactions && trx.reportstatus === 'Filed'">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>
          </tr>
        </ng-container>

        <tr *ngIf="isTransactionViewActive()">
          <td></td>
          <td *ngIf="_allTransactions"></td>
          <td *ngIf="isColumnVisible('schedule')"></td>
          <td *ngIf="isColumnVisible('type')"></td>
          <td *ngIf="isColumnVisible('name')"></td>
          <td *ngIf="isColumnVisible('date')"></td>
          <td *ngIf="isColumnVisible('memoCode')"></td>
          <td *ngIf="isColumnVisible('amount')">
            <div class="transactions__total-amount-container">
              <div class="transactions__total-amount">
                <b>Total</b>
                <i
                  class="info-icon transactions__total-amount-tip"
                  ngbTooltip="Represents the total amount of transactions entered on the report. 
                      Those transactions that are memo entries are not added into the total amount."
                  tooltipClass="transactions__tooltip"
                  triggers="click"
                >
                </i>
              </div>
              <div class="transactions__total-amount-val">
                <b>{{ totalAmount | currency: 'USD':'symbol-narrow':'1.2-2' }}</b>
              </div>
            </div>
          </td>
          <td *ngIf="isColumnVisible('purposeDescription')"></td>
          <td *ngIf="isColumnVisible('transactionId')"></td>

          <td *ngIf="isColumnVisible('street')"></td>
          <td *ngIf="isColumnVisible('city')"></td>
          <td *ngIf="isColumnVisible('state')"></td>
          <td *ngIf="isColumnVisible('zip')"></td>

          <td *ngIf="isColumnVisible('memoText')"></td>
          <td *ngIf="isColumnVisible('eventId')"></td>
          <td *ngIf="isRecycleBinViewActive()"></td>

          <td *ngIf="isColumnVisible('aggregate')"></td>
          <td></td>
        </tr>
      </tbody>
    </table>
    <hr />
    <div *ngIf="showPagination()" class="d-flex justify-content-center transactions__table-pagination-container">
      <div class="my-auto">
        <pagination-controls [id]="config.id ?? ''" (pageChange)="getPage($event)" [maxSize]="paginationControlsMaxSize">
        </pagination-controls>
      </div>
      <div *ngIf="pageNumbers.length > 1" class="d-flex ml-1">
        <div class="mr-1 my-auto text-muted">Go to page:</div>
        <ng-select
          #pageNumber
          [items]="pageNumbers"
          [clearable]="false"
          [hideSelected]="true"
          (change)="onGotoPageChange($event)"
          [(ngModel)]="gotoPage"
          class="border border-light"
        >
        </ng-select>
      </div>
    </div>
    <div *ngIf="!showPageSizes()" class="d-flex justify-content-center reports__table-pagination-container">
      <div class="text-muted">No records found</div>
    </div>
  </ng-container>

  <div
    bsModal
    #columnOptionsModal
    class="modal fade column-options-modal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="dialog-sizes-name1"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header" id="transactions__pin-modal-header">
          <h4 class="modal-title pull-left">Column Options (Select up to {{ maxColumnOptionReadOnly - 1 }})</h4>
          <button aria-label="Close" class="close btn btn-link" type="button" (click)="cancelColumnOptions()">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <!--transactionCategory = 'receipts'-->
          <div class="container" *ngIf="transactionCategory === 'receipts'">
            <ng-container *ngIf="formType === '3X' || formType === '24'">
              <div class="row">
                <ng-container [ngTemplateOutlet]="typeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="transactionIdTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="stateTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="contributionEmployerTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="aggregateTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="zipTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="contributionOccupationTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="nameTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="dateTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="streetTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="memoCodeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="memoTextTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="cityTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="purposeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="amountTemplate"></ng-container>
              </div>
            </ng-container>
            <ng-container *ngIf="formType === '3L'">
              <ng-container [ngTemplateOutlet]="f3l_columns_template"></ng-container>
            </ng-container>
            <ng-container *ngIf="formType === 'global'">
              <div class="row">
                <ng-container [ngTemplateOutlet]="typeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="transactionIdTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="stateTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="contributionEmployerTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="aggregateTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="zipTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="contributionOccupationTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="nameTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="dateTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="streetTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="memoCodeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="memoTextTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="cityTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="purposeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="amountTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="cmteIdTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="semiAnnualAmountTemplate"></ng-container>
              </div>
            </ng-container>
          </div>
          <!--transactionCategory = 'disbursements'-->
          <div class="container" *ngIf="transactionCategory === 'disbursements'">
            <ng-container *ngIf="formType === '3X' || formType === '24'">
              <div class="row">
                <ng-container [ngTemplateOutlet]="typeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="transactionIdTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="stateTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="cmteIdTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="electionCodeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="zipTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="streetTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="nameTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="dateTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="memoCodeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="memoTextTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="cityTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="purposeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="amountTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="electionYearTemplate"></ng-container>
              </div>
            </ng-container>
            <ng-container *ngIf="formType === '3L'">
              <ng-container [ngTemplateOutlet]="f3l_columns_template"></ng-container>
            </ng-container>
            <ng-container *ngIf="formType === 'global'">
              <div class="row">
                <ng-container [ngTemplateOutlet]="typeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="transactionIdTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="stateTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="cmteIdTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="electionCodeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="zipTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="streetTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="nameTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="dateTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="memoCodeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="memoTextTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="cityTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="purposeTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="amountTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="electionYearTemplate"></ng-container>
              </div>
              <div class="row">
                <ng-container [ngTemplateOutlet]="cmteIdTemplate"></ng-container>
                <ng-container [ngTemplateOutlet]="semiAnnualAmountTemplate"></ng-container>
              </div>
            </ng-container>
          </div>
          <!--transactionCategory = 'loans and debts'-->
          <div class="container" *ngIf="transactionCategory === 'loans-and-debts'">
            <div class="row">
              <ng-container [ngTemplateOutlet]="typeTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="transactionIdTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="stateTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="loanAmountTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="loanDueDateTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="zipTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="streetTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="nameTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="cityTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="loanPaymentToDateTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="memoCodeTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="memoTextTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="debtPurposeTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="paymentAmountDebtTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="beginningBalanceTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="incurredAmountTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="balanceAtCloseTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="loanIncurredDateTemplate"></ng-container>
            </div>
          </div>
          <!--transactionCategory = 'other'-->
          <div class="container" *ngIf="transactionCategory === 'other'">
            <div class="row">
              <ng-container [ngTemplateOutlet]="typeTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="transactionIdTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="stateTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="scheduleTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="activityEventIdentifierTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="zipTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="streetTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="nameTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="dateTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="memoCodeTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="memoTextTemplate"></ng-container>
              <ng-container [ngTemplateOutlet]="cityTemplate"></ng-container>
            </div>
            <div class="row">
              <ng-container [ngTemplateOutlet]="purposeTemplate"></ng-container>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary btn-modal-footer btn-right" (click)="saveColumnOptions()">
            Save
          </button>
          <button
            type="button"
            class="btn btn-modal-footer btn-right btn-secondary-gray"
            (click)="cancelColumnOptions()"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #typeTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('type').checked"
          (change)="toggleVisibility('type', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('type').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('type').disabled }"> Type </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #electionYearTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('electionYear').checked"
          (change)="toggleVisibility('electionYear', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('electionYear').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('electionYear').disabled }">
          Election Year
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #transactionIdTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('transactionId').checked"
          (change)="toggleVisibility('transactionId', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('transactionId').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('transactionId').disabled }">
          Transaction Id
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #stateTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('state').checked"
          (change)="toggleVisibility('state', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('state').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('state').disabled }"> State </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #contributionEmployerTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('contributorEmployer').checked"
          (change)="toggleVisibility('contributorEmployer', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('contributorEmployer').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('contributorEmployer').disabled }">
          Contributor Employer
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #contributionOccupationTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('contributorOccupation').checked"
          (change)="toggleVisibility('contributorOccupation', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('contributorOccupation').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('contributorOccupation').disabled }">
          Contributor Occupation
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #nameTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('name').checked"
          (change)="toggleVisibility('name', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('name').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('name').disabled }"> Name </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #aggregateTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('aggregate').checked"
          (change)="toggleVisibility('aggregate', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('aggregate').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('aggregate').disabled }">
          Aggregate Amount
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #cityTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('city').checked"
          (change)="toggleVisibility('city', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('city').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('city').disabled }"> City </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #purposeTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('purposeDescription').checked"
          (change)="toggleVisibility('purposeDescription', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('purposeDescription').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('purposeDescription').disabled }">
          Purpose Description
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #amountTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('amount').checked"
          (change)="toggleVisibility('amount', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('amount').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('amount').disabled }"> Amount </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #memoTextTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('memoText').checked"
          (change)="toggleVisibility('memoText', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('memoText').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('memoText').disabled }">
          Memo Text/Description
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #memoCodeTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('memoCode').checked"
          (change)="toggleVisibility('memoCode', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('memoCode').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('memoCode').disabled }"> Memo Code </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #streetTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('street').checked"
          (change)="toggleVisibility('street', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('street').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('street').disabled }"> Street </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #dateTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('date').checked"
          (change)="toggleVisibility('date', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('date').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('date').disabled }"> Date </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #semiAnnualAmountTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('semiAnnualAmount').checked"
          (change)="toggleVisibility('semiAnnualAmount', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('semiAnnualAmount').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('semiAnnualAmount').disabled }">
          Semi-Annual Amount
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #cmteIdTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('committeeId').checked"
          (change)="toggleVisibility('committeeId', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('committeeId').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('committeeId').disabled }"> Committee ID </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #electionCodeTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('electionCode').checked"
          (change)="toggleVisibility('electionCode', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('electionCode').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('electionCode').disabled }">
          Election Code
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #beginningBalanceTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('loanBeginningBalance').checked"
          (change)="toggleVisibility('loanBeginningBalance', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('loanBeginningBalance').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('loanBeginningBalance').disabled }">
          Beginning Balance (D)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #paymentAmountDebtTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('loanPaymentAmt').checked"
          (change)="toggleVisibility('loanPaymentAmt', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('loanPaymentAmt').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('loanPaymentAmt').disabled }">
          Payment Amount (D)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #debtPurposeTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('purposeDescription').checked"
          (change)="toggleVisibility('purposeDescription', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('purposeDescription').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('purposeDescription').disabled }">
          Purpose of Debt(D)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #balanceAtCloseTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('loanClosingBalance').checked"
          (change)="toggleVisibility('loanClosingBalance', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('loanClosingBalance').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('loanClosingBalance').disabled }">
          Balance at Close (D)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #activityEventIdentifierTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('eventId').checked"
          (change)="toggleVisibility('eventId', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('eventId').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('eventId').disabled }">
          Activity or Event Identifier
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #scheduleTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('schedule').checked"
          (change)="toggleVisibility('schedule', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('schedule').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('schedule').disabled }"> Schedule </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #loanIncurredDateTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('loanIncurredDate').checked"
          (change)="toggleVisibility('loanIncurredDate', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('loanIncurredDate').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('loanIncurredDate').disabled }">
          Loan Incurred Date (C)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #incurredAmountTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('loanIncurredAmt').checked"
          (change)="toggleVisibility('loanIncurredAmt', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('loanIncurredAmt').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('loanIncurredAmt').disabled }">
          Incurred Amount (D)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #loanPaymentToDateTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('loanPaymentToDate').checked"
          (change)="toggleVisibility('loanPaymentToDate', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('loanPaymentToDate').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('loanPaymentToDate').disabled }">
          Loan Payment to Date (C)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #loanDueDateTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('loanDueDate').checked"
          (change)="toggleVisibility('loanDueDate', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('loanDueDate').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('loanDueDate').disabled }">
          Loan Due Date (C)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #loanAmountTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('loanAmount').checked"
          (change)="toggleVisibility('loanAmount', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('loanAmount').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('loanAmount').disabled }">
          Loan Amount (C)
        </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #zipTemplate>
  <div class="col-md-3">
    <div class="checkbox">
      <label>
        <input
          [(ngModel)]="getSortableColumn('zip').checked"
          (change)="toggleVisibility('zip', $event)"
          type="checkbox"
          [disabled]="getSortableColumn('zip').disabled"
        />
        <span [ngClass]="{ 'disabled-column-option': getSortableColumn('zip').disabled }"> Zip </span>
      </label>
    </div>
  </div>
</ng-template>
<ng-template #f3l_columns_template>
  <div class="row">
    <ng-container [ngTemplateOutlet]="typeTemplate"></ng-container>
    <ng-container [ngTemplateOutlet]="contributionEmployerTemplate"></ng-container>
    <ng-container [ngTemplateOutlet]="stateTemplate"></ng-container>
  </div>
  <div class="row">
    <ng-container [ngTemplateOutlet]="semiAnnualAmountTemplate"></ng-container>
    <ng-container [ngTemplateOutlet]="nameTemplate"></ng-container>
    <ng-container [ngTemplateOutlet]="zipTemplate"></ng-container>
  </div>
  <div class="row">
    <ng-container [ngTemplateOutlet]="streetTemplate"></ng-container>
    <ng-container [ngTemplateOutlet]="cityTemplate"></ng-container>
    <ng-container [ngTemplateOutlet]="memoTextTemplate"></ng-container>
  </div>
  <div class="row">
    <ng-container [ngTemplateOutlet]="cmteIdTemplate"></ng-container>
    <ng-container [ngTemplateOutlet]="amountTemplate"></ng-container>
  </div>
</ng-template>
