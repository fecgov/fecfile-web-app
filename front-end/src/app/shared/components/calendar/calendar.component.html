<div class="field">
  <label [attr.for]="fieldName()" [innerHTML]="label()"></label>

  <p-datepicker
    [inputId]="fieldName()"
    [id]="fieldName()"
    [name]="fieldName()"
    [formControl]="control"
    [attr.data-cy]="fieldName()"
    (onFocus)="calendarOpened = true"
    (onClose)="validateDate(false)"
    (onBlur)="validateDate(calendarOpened)"
  ></p-datepicker>

  @if (control && showErrors()) {
    <app-error-messages
      [attr.data-cy]="fieldName() + '-error'"
      [control]="control"
      [formSubmitted]="formSubmitted()"
      [requiredErrorMessage]="requiredErrorMessage()"
    ></app-error-messages>
  }
</div>
