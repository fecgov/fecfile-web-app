<div class="field date-picker-field">
  <span class="span-label" id="date_picker_label" [innerHTML]="label()"></span>
  <p-datepicker
    appendTo="body"
    (onFocus)="calendarOpened = true"
    (onClose)="validateDate(false)"
    (onBlur)="validateDate(calendarOpened)"
    [inputId]="fieldName()"
    [name]="fieldName()"
    [formControl]="control()!"
    [attr.data-cy]="fieldName()"
    [showIcon]="true"
    [iconDisplay]="'input'"
    ariaLabelledBy="date_picker_label"
  >
    <ng-template #inputicon let-clickCallBack="clickCallBack">
      <div
        class="calendar-icon-mask"
        aria-label="Calendar"
        (click)="clickCallBack($event)"
        (keypress)="clickCallBack($event)"
      ></div>
    </ng-template>
  </p-datepicker>
  @if (control() && showErrors()) {
    <app-error-messages
      [attr.data-cy]="fieldName() + '-error'"
      [form]="form()"
      [control]="control()"
      [formSubmitted]="formSubmitted()"
      [requiredErrorMessage]="requiredErrorMessage()"
    />
  }
</div>
