<app-dialog
  tabindex="-1"
  aria-labelledby="dialog-title"
  [title]="member() ? 'Edit' : 'Add user'"
  [submitLabel]="member() ? 'Change' : 'Add'"
  [(visible)]="detailVisible"
  (submitForm)="submitForm()"
>
  <form id="form" [formGroup]="form" [class.ng-submitted]="formSubmitted">
    <div class="dialog-body">
      @if (member()) {
        <div class="field">
          <label class="dialog-label" id="role-label" for="role">CURRENT ROLE</label>
          <input id="role" [disabled]="true" [value]="role()" />
        </div>
      } @else {
        <div class="field">
          <label class="dialog-label" for="email">ENTER EMAIL</label>
          <input autofocus type="text" pInputText id="email" formControlName="email" />
          <app-error-messages [form]="form" fieldName="email" [formSubmitted]="formSubmitted" />
        </div>
      }
      <app-select class="dialog-label" inputId="role" label="ROLE" [options]="roleOptions" [control]="roleControl" />
    </div>
  </form>
</app-dialog>
