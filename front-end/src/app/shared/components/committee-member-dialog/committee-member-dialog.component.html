<p-dialog [(visible)]="detailVisible" [style]="{ width: '512px' }" [header]="headerText()" [modal]="true">
  <form id="form" [formGroup]="form" [class.ng-submitted]="formSubmitted">
    <div class="grid">
      <div class="col-12">
        <div class="field">
          @if (isNew()) {
            <label for="email">ENTER EMAIL</label>
            <input autofocus type="text" pInputText id="email" formControlName="email" />
            <app-error-messages [form]="form" fieldName="email" [formSubmitted]="formSubmitted"></app-error-messages>
          } @else {
            <label id="role-label" for="role">CURRENT ROLE</label>
            <input id="role" [disabled]="true" [value]="role()" />
          }
        </div>
      </div>

      <div class="col-12">
        <div class="field">
          <label id="role-label" for="role">ROLE</label>
          <p-select
            inputId="role"
            formControlName="role"
            [options]="roleOptions"
            [autoDisplayFirst]="true"
            [autofocus]="!!member"
            appendTo="body"
          ></p-select>
          <app-error-messages [form]="form" fieldName="role" [formSubmitted]="formSubmitted"></app-error-messages>
        </div>
      </div>
    </div>
  </form>

  <ng-template #footer>
    <div class="top-border-footer justify-content-between">
      <button
        type="button"
        pButton
        pRipple
        label="Cancel"
        class="p-button-secondary"
        (click)="detailVisible.set(false)"
      ></button>

      <button
        type="submit"
        data-cy="membership-submit"
        pButton
        pRipple
        [label]="membershipSubmitText()"
        class="p-button-primary float-right"
        (click)="submit()"
      ></button>
    </div>
  </ng-template>
</p-dialog>
