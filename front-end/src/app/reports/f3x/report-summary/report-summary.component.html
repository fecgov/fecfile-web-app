<div class="summary-container">
  <h1>Summary page</h1>
  <hr type="solid" class="mt-2 mb-5" />

  @if (calculationFinished()) {
    <app-table
      [(first)]="first"
      [items]="lines()"
      title="Reports summary"
      [(totalItems)]="lines().length"
      [loading]="!calculationFinished()"
      sortField="name"
      [rowsPerPage]="lines().length"
      [globalFilterFields]="['first_name', 'last_name', 'email', 'role', 'is_active']"
      itemName="users"
      [columns]="columns()"
      [showPaginationControls]="false"
    >
    </app-table>
  } @else {
    <div class="fec-loader-div col-12">
      <img
        class="image-max-width fec-loader-image"
        src="assets/img/fec-loading-flag.gif"
        draggable="false"
        alt="The report's summary is loading..."
      />
    </div>
  }

  <hr class="mt-0 mb-3" />
  <div class="flex justify-content-between">
    <button
      pButton
      pRipple
      class="p-button-secondary icon-gap"
      (click)="router.navigateByUrl('/reports/transactions/report/' + report().id + '/list')"
    >
      <span class="prev-arrow-mask"></span>
      <span>Transactions in this report</span>
    </button>
    <button
      pButton
      pRipple
      class="p-button-primary icon-gap"
      (click)="router.navigateByUrl('/reports/f3x/detailed-summary/' + report().id)"
    >
      <span>Review detailed summary page</span>
      <span class="next-arrow-mask"></span>
    </button>
  </div>
</div>
