<div class="grid">
  <div class="col-12">
    <h1 class="super-header no-vert-margins">Print preview</h1>
  </div>
</div>
<div class="grid">
  <div class="col-12">
    <h3 class="no-vert-margins">{{ report.formLabel }}: {{ report.report_code | reportCodeLabel }}</h3>
    <br />
  </div>
  <div class="col-12">
    <img
      _ngcontent-kve-c61=""
      class="image-max-width image-centered-horiz"
      src="assets/img/image-f3x-pages-spread.png"
      draggable="false"
      alt="Form 3X pages spread out aesthetically"
      [ngClass]="{ 'disabled-pages-banner': webPrintStage === 'checking' }"
    />
    <ng-container *ngIf="webPrintStage === 'checking'">
      <div class="fec-loader-div col-12">
        <img
          class="image-max-width fec-loader-image"
          src="assets/img/fec-loading-flag.gif"
          draggable="false"
          alt="The report's web print status is loading..."
        />
        <h1 class="align-center super-header">
          <br /><br />
          <strong>Compiling your preview</strong>
          <br />
        </h1>
        <h2 class="align-center">
          {{ pollingStatusMessage }}
        </h2>
      </div>
    </ng-container>
  </div>
</div>
<div class="grid">
  <ng-container *ngIf="webPrintStage === 'not-submitted' || webPrintStage === 'failure'">
    <ng-container *ngIf="webPrintStage === 'failure'">
      <div class="col-12">
        <h2 class="align-center">Printing error:<br />{{ printError }}</h2>
      </div>
    </ng-container>
    <div class="col-5"></div>
    <div class="col-2">
      <button
        pButton
        pRipple
        appSingleClick
        label="Compile PDF"
        class="p-button-warning button-full-width"
        (click)="submitPrintJob()"
      ></button>
    </div>
  </ng-container>
  <ng-container *ngIf="webPrintStage === 'success'">
    <h2 class="col-12 align-center">PDF compiled<br />Submitted on: {{ submitDate }}</h2>
    <div class="col-3"></div>
    <div class="col-2">
      <button pButton pRipple label="Open PDF" class="p-button-info button-full-width" (click)="downloadPDF()"></button>
    </div>
    <div class="col-2">
      <p class="align-center"><strong>OR</strong></p>
    </div>
    <div class="col-2">
      <button
        pButton
        pRipple
        appSingleClick
        label="Compile New PDF"
        class="p-button-warning button-full-width"
        (click)="submitPrintJob()"
      ></button>
    </div>
  </ng-container>
</div>

<p-divider></p-divider>
<div class="grid">
  <div class="col-2">
    <button
      pButton
      pRipple
      label="Back"
      class="p-button-secondary p-button-outlined button-full-width"
      (click)="router.navigateByUrl('/reports/f3x/detailed-summary/' + report.id)"
    ></button>
  </div>
  <div class="col-7"></div>
  <div class="col-3">
    <button
      pButton
      pRipple
      label="Sign & submit report"
      class="p-button-secondary button-full-width"
      (click)="router.navigateByUrl('/reports/f3x/submit/step1/' + report.id)"
    ></button>
  </div>
</div>
