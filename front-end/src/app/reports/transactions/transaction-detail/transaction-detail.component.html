<p-toast></p-toast>

<div class="p-fluid">
  <h1>{{ transaction?.transactionType?.title }}</h1>
  <h4 class="read-only-tag subtitle" *ngIf="!isEditable">READ ONLY</h4>
  <h3>Contact</h3>
  <form id="form" [formGroup]="form" [ngClass]="{ 'ng-submitted': formSubmitted }">
    <app-transaction-input
      [isEditable]="isEditable"
      [form]="form"
      [formSubmitted]="formSubmitted"
      [transaction]="transaction"
      [contactTypeOptions]="contactTypeOptions"
      [memoCodeCheckboxLabel$]="memoCodeCheckboxLabel$"
      (primaryContactSelect)="updateFormWithPrimaryContact($event)"
      (candidateContactSelect)="updateFormWithCandidateContact($event)"
      (secondaryContactSelect)="updateFormWithSecondaryContact($event)"
      (tertiaryContactSelect)="updateFormWithTertiaryContact($event)"
    >
    </app-transaction-input>
  </form>
  <app-transaction-guarantors [transactions]="transaction?.children ?? []"></app-transaction-guarantors>
</div>

<app-transaction-navigation
  [isEditable]="isEditable"
  [transaction]="transaction"
  (navigate)="handleNavigate($event)"
></app-transaction-navigation>

<p-confirmDialog key="dialog" [style]="{ width: '450px' }"></p-confirmDialog>
