<ng-template #lineLabelBody let-item>
  <span class="no-wrap">
    {{ item.line_label }}
  </span>
</ng-template>

<ng-template #typeBody let-item>
  <a [routerLink]="[item?.id]">
    {{ item.transaction_type_identifier | label: scheduleTransactionTypeLabels }}
  </a>

  @if (item?.force_unaggregated) {
    <div><strong>Unaggregated</strong></div>
  }

  <!-- transactions are always itemized on f24 even if they aren't marked as such in the db -->
  @if (!item?.itemized && !isForm24()) {
    <div><strong>Unitemized</strong></div>
  }
</ng-template>

<ng-template #dateBody let-item>
  {{ convertToDate(item.date) | fecDate }}
</ng-template>

<ng-template #amountBody let-item>
  {{ item[item.transactionType.templateMap.amount] | currency }}
</ng-template>

<ng-template #actionsBody let-item>
  <app-table-actions-button
    [tableActions]="rowActions"
    [actionItem]="item"
    (tableActionClick)="onRowActionClick($event.action, $event.actionItem)"
    buttonIcon="pi pi-ellipsis-v"
    buttonStyleClass="p-button-text"
    buttonAriaLabel="action"
  />
</ng-template>

<app-table
  [(first)]="first"
  title="Disbursements"
  [items]="items"
  [(totalItems)]="totalItems"
  [loading]="loading"
  [(rowsPerPage)]="rowsPerPage"
  [(selectedItems)]="selectedItems"
  sortField="line_label,created"
  itemName="transactions"
  [columns]="columns()"
  (loadTableItems)="loadTableItems($event)"
>
</app-table>
