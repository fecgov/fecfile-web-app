<ng-template #lineLabelBody let-item>
  <span class="no-wrap">
    {{ item.line_label }}
  </span>
</ng-template>

<ng-template #typeBody let-item>
  <a [routerLink]="[item?.id]">
    {{ item.transaction_type_identifier | label: scheduleTransactionTypeLabels }}
  </a>

  @if (!item?.itemized) {
    <div><strong>Unitemized</strong></div>
  }
</ng-template>

<ng-template #dateBody let-item>
  {{ item[item.transactionType.templateMap.date] | fecDate }}
</ng-template>

<ng-template #actionsBody let-item>
  <app-table-actions-button
    [tableActions]="rowActions"
    [actionItem]="item"
    (tableActionClick)="onRowActionClick($event.action, $event.actionItem)"
    buttonIcon="pi pi-ellipsis-v"
    buttonStyleClass="p-button-text"
    buttonAriaLabel="action"
    dataTest="loans-and-debts-button"
  />
</ng-template>

<app-table
  [(first)]="first"
  [(selectedItems)]="selectedItems"
  itemName="transactions"
  title="Loans and Debts"
  [items]="items()"
  [(totalItems)]="totalItems"
  [loading]="loading"
  sortField="line_label,created"
  [(rowsPerPage)]="rowsPerPage"
  [columns]="columns()"
  (loadTableItems)="loadTableItems($event)"
>
</app-table>
