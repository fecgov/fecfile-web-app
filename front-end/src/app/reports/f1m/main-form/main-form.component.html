<div class="p-fluid">
  <form id="form" [formGroup]="form" [ngClass]="{ 'ng-submitted': formSubmitted }">
    <div class="grid">
      <div class="col-12">
        <h1>FORM 1M</h1>
        <h5>NOTIFICATION OF MULTICANDIDATE STATUS</h5>
      </div>
    </div>
    <div class="grid">
      <div class="col-12">
        <hr />
      </div>
    </div>
    <div class="grid">
      <div class="col-12">
        <h2>Committee</h2>
      </div>
    </div>
    <div class="grid">
      <div class="col-9">
        <div class="field">
          <label for="committee_name">COMMITTEE NAME</label>
          <input
            class="readonly"
            type="text"
            pInputText
            id="committee_name"
            [readonly]="true"
            formControlName="committee_name"
          />
          <app-error-messages
            [form]="form"
            fieldName="committee_name"
            [formSubmitted]="formSubmitted"
          ></app-error-messages>
        </div>
      </div>
      <div class="col-3">
        <div class="field">
          <label for="filer_committee_id_number">COMMITTEE ID</label>
          <input
            class="readonly"
            type="text"
            [readonly]="true"
            pInputText
            id="filer_committee_id_number"
            formControlName="filer_committee_id_number"
          />
          <app-error-messages
            [form]="form"
            fieldName="committee_id"
            [formSubmitted]="formSubmitted"
          ></app-error-messages>
        </div>
      </div>
    </div>
    <div class="grid">
      <div class="col-12">
        <div class="field grid">
          <label for="committee_type">TYPE OF COMMITTEE</label>
          <div class="col-12">
            <p-radioButton
              inputId="X"
              name="committee_type"
              value="X"
              label="STATE PARTY"
              formControlName="committee_type"
              [class]="
                committeeTypeControl?.invalid &&
                (formSubmitted || committeeTypeControl?.dirty || committeeTypeControl?.touched)
                  ? 'ng-invalid ng-dirty'
                  : ''
              "
            ></p-radioButton>
          </div>
          <div class="col-12">
            <p-radioButton
              inputId="N"
              name="committee_type"
              value="N"
              label="OTHER"
              formControlName="committee_type"
              [class]="
                committeeTypeControl?.invalid &&
                (formSubmitted || committeeTypeControl?.dirty || committeeTypeControl?.touched)
                  ? 'ng-invalid ng-dirty'
                  : ''
              "
            ></p-radioButton>
          </div>
          <div class="col-12">
            <app-error-messages
              [form]="form"
              fieldName="committee_type"
              [formSubmitted]="formSubmitted"
              requiredErrorMessage="An answer is required."
            ></app-error-messages>
          </div>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="col-12">
        <hr />
      </div>
    </div>

    <div class="grid">
      <div class="col-12">
        <h2>Address</h2>
      </div>
    </div>
    <app-address-input [readonly]="true" [templateMap]="templateMap" [form]="form"></app-address-input>
    <div class="grid">
      <div class="col-12">
        <hr />
      </div>
    </div>

    <div class="grid">
      <div class="col-12">
        <p>I certify that one of the following situations is correct:</p>
        <div class="field grid">
          <label for="status_by">STATUS BY</label>
          <div class="col-12">
            <p-radioButton
              inputId="affiliation"
              name="status_by"
              value="affiliation"
              label="AFFILIATION"
              formControlName="status_by"
              [class]="
                statusByControl?.invalid && (formSubmitted || statusByControl?.dirty || statusByControl?.touched)
                  ? 'ng-invalid ng-dirty'
                  : ''
              "
            ></p-radioButton>
          </div>
          <div class="col-12">
            <p-radioButton
              inputId="qualification"
              name="status_by"
              value="qualification"
              label="QUALIFICATION"
              [disabled]="true"
              formControlName="status_by"
              [class]="
                statusByControl?.invalid && (formSubmitted || statusByControl?.dirty || statusByControl?.touched)
                  ? 'ng-invalid ng-dirty'
                  : ''
              "
            ></p-radioButton>
          </div>
          <div class="col-12">
            <app-error-messages
              [form]="form"
              fieldName="status_by"
              [formSubmitted]="formSubmitted"
              requiredErrorMessage="An answer is required."
            ></app-error-messages>
          </div>
        </div>
      </div>
    </div>

    <div class="grid" *ngIf="form.get('status_by')?.value === 'affiliation'">
      <div class="col-12">
        <h2>Affiliation</h2>
      </div>
      <div class="col-12">
        <p>
          The committee submitted its Statement of Organization (FORM 1) and simultaneously qualified as a
          multicandidate committee through its affiliation with:
        </p>
      </div>
      <div class="col-12">
        <div class="field">
          <label for="entity_type">LOOKUP</label>
          <app-transaction-contact-lookup
            contactProperty="contact_1"
            [form]="form"
            [formSubmitted]="formSubmitted"
            [contactTypeOptions]="contactTypeOptions"
            (contactTypeSelect)="contactTypeSelected($event)"
            (contactSelect)="updateFormWithPrimaryContact($event)"
          >
          </app-transaction-contact-lookup>
        </div>
      </div>

      <div class="grid">
        <div class="col-9">
          <div class="field">
            <label for="affiliated_committee_name">AFFILIATED COMMITTEE NAME</label>
            <input
              class="readonly"
              type="text"
              pInputText
              id="affiliated_committee_name"
              [readonly]="true"
              formControlName="affiliated_committee_name"
            />
            <app-error-messages
              [form]="form"
              fieldName="affiliated_committee_name"
              [formSubmitted]="formSubmitted"
            ></app-error-messages>
          </div>
        </div>
        <div class="col-3">
          <div class="field">
            <label for="affiliated_committee_fec_id">AFFILIATED COMMITTEE ID</label>
            <input
              class="readonly"
              type="text"
              [readonly]="true"
              pInputText
              id="affiliated_committee_fec_id"
              formControlName="affiliated_committee_fec_id"
            />
            <app-error-messages
              [form]="form"
              fieldName="affiliated_committee_fec_id"
              [formSubmitted]="formSubmitted"
            ></app-error-messages>
          </div>
        </div>
      </div>

      <div class="grid">
        <div class="col-3">
          <div class="field">
            <label for="name">AFFILIATED DATE</label>
            <p-calendar
              inputId="affiliated_date_form_f1_filed"
              name="affiliated_date_form_f1_filed"
              formControlName="affiliated_date_form_f1_filed"
            ></p-calendar>
            <app-error-messages
              [form]="form"
              fieldName="affiliated_date_form_f1_filed"
              [formSubmitted]="formSubmitted"
              requiredErrorMessage="At least ONE date field must be entered."
            ></app-error-messages>
          </div>
        </div>
      </div>
    </div>
  </form>

  <div class="grid">
    <div class="col-12">
      <hr />
    </div>
  </div>
  <div class="grid">
    <div class="col-2">
      <button pButton pRipple label="Back" (click)="goBack()" class="p-button-secondary"></button>
    </div>
    <div class="col-6"></div>
    <div class="col-1">
      <button pButton pRipple appSingleClick label="Save" (click)="save()" class="p-button-primary"></button>
    </div>
    <div class="col-3">
      <button
        pButton
        pRipple
        appSingleClick
        label="Save and continue"
        (click)="save('continue')"
        class="p-button-info"
      ></button>
    </div>
  </div>
</div>
