<p-dialog
  header="Create a new report"
  [modal]="true"
  [(visible)]="dialogVisible"
  (onHide)="closeDialog()"
  [style]="{ minWidth: '45rem' }"
>
  <div>
    <div class="dialog-body">
      <span id="type-label">FORM TYPE</span>
      <p-select [options]="formTypeOptions" [(ngModel)]="selectedType" class="w-full" appendTo="body">
        <ng-template #selectedItem let-selectedOption>
          <span class="option">
            <b>{{ getFormType(selectedType)?.label }}:</b> {{ getFormType(selectedType)?.description }}
          </span>
        </ng-template>
        <ng-template let-type #item>
          <span class="option" (click)="updateSelected(type)">
            <b>{{ getFormType(type)?.label }}:</b> {{ getFormType(type)?.description }}
          </span>
        </ng-template>
      </p-select>

      @if (selectedType === formTypes.F24) {
        <div class="modal-item-margin">
          <label for="form24Options">REPORT TYPE</label>

          <p-selectbutton
            inputid="form24Options"
            [options]="form24Options"
            [(ngModel)]="selectedForm24Type"
            optionLabel="label"
            optionValue="value"
          />
        </div>
      }
    </div>
    <div class="dialog-footer">
      <button
        id="submit-button"
        pButton
        pRipple
        [disabled]="isSubmitDisabled"
        label="Start building report"
        data-cy="start-report"
        class="p-button-primary"
        (click)="goToReportForm()"
      ></button>
    </div>
  </div>
</p-dialog>
